# 픽업 호텔 관리 시스템

## 개요
투어 관리 시스템의 픽업 호텔 관리 기능입니다. 고객들이 투어 시작 전에 모이는 픽업 호텔의 정보를 체계적으로 관리할 수 있습니다.

## 주요 기능

### 1. 호텔 정보 관리
- **호텔명**: 픽업 호텔의 이름
- **픽업 위치**: 호텔 내 구체적인 픽업 장소 (예: 로비, 정문 등)
- **설명**: 한국어와 영어로 된 상세 설명
- **주소**: 호텔의 상세 주소
- **좌표**: 위도, 경도 정보 (Google Maps 연동용)
- **구글 맵 링크**: 호텔 위치를 바로 확인할 수 있는 링크

### 2. 미디어 관리
- **사진**: 호텔 외관, 로비, 픽업 장소 등의 사진
- **동영상**: 호텔 소개 영상이나 픽업 장소 안내 영상
- **파일 형식**: JPG, PNG, GIF (이미지), MP4, AVI, MOV (동영상)

### 3. 검색 및 필터링
- 호텔명으로 검색
- 픽업 위치로 검색
- 주소로 검색

## 데이터베이스 구조

### pickup_hotels 테이블
```sql
CREATE TABLE pickup_hotels (
  id TEXT PRIMARY KEY DEFAULT gen_random_uuid()::text,
  hotel TEXT NOT NULL,                    -- 호텔명
  pick_up_location TEXT NOT NULL,         -- 픽업 위치
  description_ko TEXT,                    -- 한국어 설명
  description_en TEXT,                    -- 영어 설명
  address TEXT NOT NULL,                  -- 주소
  pin TEXT,                               -- 좌표 (위도,경도)
  link TEXT,                              -- 구글 맵 링크
  media TEXT[],                           -- 미디어 파일 URL 배열
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

### Storage Bucket
- **이름**: `pickup-hotel-media`
- **용도**: 호텔 관련 사진 및 동영상 파일 저장
- **접근 권한**: 인증된 사용자만 업로드/수정/삭제 가능, 모든 사용자가 조회 가능

## 사용 방법

### 1. 호텔 추가
1. 관리자 페이지 → 픽업 호텔 관리 메뉴 접속
2. "호텔 추가" 버튼 클릭
3. 필수 정보 입력 (호텔명, 픽업 위치, 주소)
4. 선택 정보 입력 (설명, 좌표, 구글 맵 링크)
5. 미디어 파일 업로드 (선택사항)
6. 저장

### 2. 호텔 수정
1. 호텔 카드의 편집 버튼 클릭
2. 원하는 정보 수정
3. 새로운 미디어 파일 추가 (선택사항)
4. 저장

### 3. 호텔 삭제
1. 호텔 카드의 삭제 버튼 클릭
2. 확인 메시지에서 "확인" 클릭

### 4. 호텔 검색
- 상단 검색창에 호텔명, 위치, 주소 입력
- 실시간으로 검색 결과 표시

## 파일 업로드

### 지원 형식
- **이미지**: JPG, JPEG, PNG, GIF, WebP
- **동영상**: MP4, AVI, MOV, WMV

### 업로드 제한
- 파일명은 자동으로 타임스탬프와 함께 저장
- 중복 파일명 방지
- 업로드 중 진행 상태 표시

## 연동 기능

### 1. 예약 시스템 연동
- 기존 예약 시스템의 `pickup_hotel` 필드와 연동
- 픽업 호텔 선택 시 드롭다운으로 표시

### 2. Google Maps 연동
- 좌표 정보를 통한 정확한 위치 표시
- 구글 맵 링크를 통한 빠른 접근

## 보안 및 권한

### 접근 권한
- **관리자**: 모든 기능 사용 가능
- **일반 사용자**: 조회만 가능

### 데이터 보호
- 인증된 사용자만 데이터 수정 가능
- 모든 변경사항은 감사 추적 시스템에 기록

## 마이그레이션

### 새로 설치하는 경우
```bash
# Supabase 마이그레이션 실행
supabase db reset
```

### 기존 시스템에 추가하는 경우
```bash
# 픽업 호텔 테이블만 생성
supabase db push
```

## 문제 해결

### 일반적인 문제들

1. **파일 업로드 실패**
   - 파일 크기 확인 (권장: 10MB 이하)
   - 파일 형식 확인
   - 네트워크 연결 상태 확인

2. **좌표 입력 오류**
   - 위도, 경도 순서 확인 (위도,경도)
   - 소수점 형식 확인 (예: 37.5665,126.9780)

3. **구글 맵 링크 오류**
   - URL 형식 확인
   - 공개 접근 가능한 링크인지 확인

## 향후 개선 계획

1. **지도 통합**
   - 내장 지도로 호텔 위치 시각화
   - 드래그 앤 드롭으로 좌표 설정

2. **고급 검색**
   - 지역별 필터링
   - 호텔 등급별 필터링
   - 픽업 시간대별 필터링

3. **모바일 최적화**
   - 반응형 디자인 개선
   - 터치 친화적 인터페이스

4. **API 확장**
   - 외부 시스템과의 연동
   - 웹훅 지원

## 기술 스택

- **프론트엔드**: React, Next.js, TypeScript
- **스타일링**: Tailwind CSS
- **데이터베이스**: PostgreSQL (Supabase)
- **파일 저장**: Supabase Storage
- **인증**: Supabase Auth
- **국제화**: next-intl

## 라이센스

이 프로젝트는 MIT 라이센스 하에 배포됩니다.
